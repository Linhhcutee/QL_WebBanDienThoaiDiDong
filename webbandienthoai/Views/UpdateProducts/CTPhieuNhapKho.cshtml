@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model webbandienthoai.Models.Chitietpnk
@{
    ViewData["Title"] = "CTPhieuNhapKho";
}

<h1>Chi Tiết Phiếu Nhập Kho</h1>

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger">
        @TempData["ErrorMessage"]
    </div>
}
<a asp-action="DanhMucSanPham"
   style="text-decoration: none; color: #007bff; font-weight: bold; padding: 8px 12px; border: 1px solid #007bff; border-radius: 5px; transition: background-color 0.3s, color 0.3s;"
   onmouseover="this.style.backgroundColor='#007bff'; this.style.color='#fff';"
   onmouseout="this.style.backgroundColor=''; this.style.color='#007bff';">
    Danh Mục Sản Phẩm
</a>
<hr />
<div class="row">
    <div class="col-md-4">
        <form method="post" asp-action="CTPhieuNhapKho">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="TenSanPham" class="control-label">Tên Sản Phẩm</label>
                <select asp-for="TenSanPham" class="form-control" asp-items="ViewBag.Ten"></select>
            </div>
            <div class="form-group">
                <label asp-for="Maphieunhap" class="control-label">Mã Phiếu Nhập</label>
                <select asp-for="Maphieunhap" class="form-control" asp-items="ViewBag.Maphieunhap"></select>
            </div>
            <div class="form-group">
                <label asp-for="Soluong" class="control-label">Số Lượng</label>
                <input asp-for="Soluong" class="form-control" />
                <span asp-validation-for="Soluong" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="GiaNhap" class="control-label">Giá Nhập</label>
                <input asp-for="GiaNhap" class="form-control" />
                <span asp-validation-for="GiaNhap" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Ghichu" class="control-label">Ghi Chú</label>
                <input asp-for="Ghichu" class="form-control" />
                <span asp-validation-for="Ghichu" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="LoaiSp" class="control-label">Loại Sản Phẩm</label>
                <select asp-for="LoaiSp" class="form-control" asp-items="ViewBag.LoaiSp"></select>
            </div>
            <div class="form-group">
                <input type="submit" value="Create" class="btn btn-primary" />
            </div>
        </form>
    </div>
    <div class="col-md-6">
        <h3>Danh sách chi tiết phiếu nhập kho</h3>
        <table class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>Tên sản phẩm</th>
                    <th>Số lượng</th>
                    <th>Mã Phiếu Nhập</th>
                    <th>Loại sản phẩm</th>
                    <th>Ghi chú</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in ViewBag.ChiTietPhieuNhapKho)
                {
                    <tr>
                        <td>@item.TenSanPham</td>
                        <td>@item.Soluong</td>
                        <td>@item.MaphieunhapNavigation.Maphieunhapkho</td>
                        <td>@item.LoaiSp</td>
                        <td>@item.Ghichu</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
